{
  "capabilities": [
    {
      "ident": "WASHER_OPERATION",
      "name": "Waschbetrieb",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 1, "caption": "Start", "color": 52651 },
        { "value": 3, "caption": "Stop", "color": 16711680 },
        { "value": 0, "caption": "Ausschalten", "color": 8421504 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["operation.washerOperationMode"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["operation.washerOperationMode.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["operation.washerOperationMode"], "map": { "START": 1, "STOP": 3, "POWER_OFF": 0 } },
      "write": { "enumMap": {
        "1": { "location.locationName": "MAIN", "operation.washerOperationMode": "START" },
        "3": { "location.locationName": "MAIN", "operation.washerOperationMode": "STOP" },
        "0": { "location.locationName": "MAIN", "operation.washerOperationMode": "POWER_OFF" }
      } }
    },
    {
      "ident": "REMOTE_CONTROL_ENABLED",
      "name": "Remote Control",
      "type": "boolean",
      "presentation": { "kind": "value" },
      "create": { "when": "profileHasAny", "keys": ["remoteControlEnable.remoteControlEnabled"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["remoteControlEnable.remoteControlEnabled"] }
    },
    {
      "ident": "DELAY_START_HOUR",
      "name": "Stopverzögerung (h)",
      "type": "integer",
      "presentation": { "kind": "slider", "range": { "min": 3, "max": 19, "step": 1, "digits": 0, "suffix": " h" } },
      "create": { "when": "profileHasAny", "keys": ["timer.relativeHourToStop"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["timer.relativeHourToStop.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["timer.relativeHourToStop"] },
      "write": { "template": { "timer": { "relativeHourToStop": "@int" } } }
    },
    {
      "ident": "TIMER_START_REL_HOUR",
      "name": "Timer Start Stunde",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " h" },
      "visibility": { "hidden": true },
      "create": { "when": "profileHasAny", "keys": ["timer.relativeHourToStop"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["timer.relativeHourToStop"] }
    },
    {
      "ident": "TIMER_START_REL_MIN",
      "name": "Timer Start Minute",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " min" },
      "visibility": { "hidden": true },
      "create": { "when": "profileHasAny", "keys": ["timer.relativeMinuteToStop"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["timer.relativeMinuteToStop"] }
    },
    {
      "ident": "TIMER_REMAIN_HOUR",
      "name": "Restzeit (h)",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " h" },
      "create": { "when": "profileHasAny", "keys": ["timer.remainHour"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["timer.remainHour"] }
    },
    {
      "ident": "TIMER_REMAIN_MIN",
      "name": "Restzeit (min)",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " min" },
      "create": { "when": "profileHasAny", "keys": ["timer.remainMinute"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["timer.remainMinute"] }
    },
    {
      "ident": "TIMER_TOTAL_HOUR",
      "name": "Gesamt (h)",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " h" },
      "create": { "when": "profileHasAny", "keys": ["timer.totalHour"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["timer.totalHour"] }
    },
    {
      "ident": "TIMER_TOTAL_MIN",
      "name": "Gesamt (min)",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " min" },
      "create": { "when": "profileHasAny", "keys": ["timer.totalMinute"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["timer.totalMinute"] }
    },
    {
      "ident": "DETERGENT_SETTING",
      "name": "Waschmittel",
      "type": "string",
      "presentation": { "kind": "value" },
      "create": { "when": "profileHasAny", "keys": ["detergent.detergentSetting"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["detergent.detergentSetting"] }
    },
    {
      "ident": "LOCATION_NAME",
      "name": "Ort",
      "type": "string",
      "presentation": { "kind": "value" },
      "create": { "when": "profileHasAny", "keys": ["location.locationName"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["location.locationName"] }
    },
    {
      "ident": "RUN_STATE",
      "name": "Programmstatus",
      "type": "string",
      "presentation": { "kind": "value", "digits": 2, "options": [
        { "value": "POWER_OFF",               "caption": "Ausschalten" },
        { "value": "INITIAL",                  "caption": "Initialisierung" },
        { "value": "ADD_DRAIN",                "caption": "Ablassen" },
        { "value": "SPINNING",                 "caption": "Schleudern" },
        { "value": "FROZEN_PREVENT_RUNNING",  "caption": "Frostschutz (läuft)" },
        { "value": "RESERVED",                 "caption": "Reserviert" },
        { "value": "PAUSE",                    "caption": "Pause" },
        { "value": "DRYING",                   "caption": "Trocknen" },
        { "value": "REFRESHING",               "caption": "Auffrischen" },
        { "value": "RINSING",                  "caption": "Spülen" },
        { "value": "RINSE_HOLD",               "caption": "Spülstopp" },
        { "value": "FROZEN_PREVENT_INITIAL",  "caption": "Frostschutz (Init)" },
        { "value": "ERROR",                    "caption": "Fehler" },
        { "value": "FROZEN_PREVENT_PAUSE",    "caption": "Frostschutz (Pause)" },
        { "value": "DETERGENT_AMOUNT",         "caption": "Waschmittelmenge" },
        { "value": "END",                      "caption": "Ende" },
        { "value": "DETECTING",                "caption": "Erkennung" },
        { "value": "RUNNING",                  "caption": "Läuft" },
        { "value": "PREWASH",                  "caption": "Vorwäsche" }
      ] },
      "create": { "when": "statusHasAny", "keys": ["runState.currentState", "processState.currentState", "currentState", "runState", "processState", "washState", "state"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["runState.currentState", "processState.currentState", "currentState", "runState", "processState", "washState", "state"] }
    },
    {
      "ident": "REMAIN_MIN",
      "name": "Restzeit",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " min" },
      "create": { "when": "statusHasAny", "keys": ["remainTimeHour", "remainingTimeHour", "remainHour", "remainTimeMinute", "remainingTimeMinute", "remainMinute", "remainingTime"] },
      "action": { "enableWhen": "never" }
    },
    {
      "ident": "PROGRESS",
      "name": "Fortschritt",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " %" },
      "create": { "when": "statusHasAny", "keys": ["process.progress", "progress"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["process.progress", "progress"] }
    },
    {
      "ident": "DOOR_OPEN",
      "name": "Tür offen",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "Offen", "captionOff": "Zu" },
      "create": { "when": "statusHasAny", "keys": ["door_state.open", "door.open", "doorOpen", "doorlock", "doorLock", "door"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["door_state.open", "door.open", "doorOpen", "doorlock", "doorLock", "door"] }
    },
    {
      "ident": "CHILD_LOCK",
      "name": "Kindersicherung",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "statusHasAny", "keys": ["childLock", "child_lock"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["childLock", "child_lock"] }
    }
  ]
}
