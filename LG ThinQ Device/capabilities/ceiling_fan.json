{
  "capabilities": [
    {
      "ident": "CEILING_FAN_OPERATION",
      "name": "Lüfterbetrieb",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 0, "caption": "Stop", "color": 16711680 },
        { "value": 1, "caption": "Start", "color": 52651 },
        { "value": 2, "caption": "Pause", "color": 16026947 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["operation.ceilingFanOperationMode", "ceilingFanOperationMode", "operation.mode"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["operation.ceilingFanOperationMode.mode", "ceilingFanOperationMode.mode", "operation.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["operation.ceilingFanOperationMode", "ceilingFanOperationMode", "operation.mode"], "map": { "START": 1, "PAUSE": 2, "STOP": 0 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "1": { "operation.ceilingFanOperationMode": "START" },
        "2": { "operation.ceilingFanOperationMode": "PAUSE" },
        "0": { "operation.ceilingFanOperationMode": "STOP" }
      } }
    },

    {
      "ident": "POWER",
      "name": "Power",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["operation.power", "power", "is_on"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["operation.power", "power", "is_on"], "map": { "ON": true, "1": true, "TRUE": true, "OFF": false, "0": false, "FALSE": false } }
    },

    {
      "ident": "FAN_MODE",
      "name": "Lüfterstufe",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 10, "caption": "Auto", "color": 52651 },
        { "value": 11, "caption": "Niedrig", "color": 3442154 },
        { "value": 12, "caption": "Mittel", "color": 16777215 },
        { "value": 13, "caption": "Hoch", "color": 16026947 },
        { "value": 14, "caption": "Power", "color": 16711680 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["fanSpeed", "airFlow.windStrength", "windStrength"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["fanSpeed.mode", "airFlow.windStrength.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["fanSpeed", "airFlow.windStrength", "windStrength"], "map": { "AUTO": 10, "LOW": 11, "MID": 12, "HIGH": 13, "POWER": 14, "TURBO": 14 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "10": { "fanSpeed": "AUTO",  "airFlow.windStrength": "AUTO" },
        "11": { "fanSpeed": "LOW",   "airFlow.windStrength": "LOW" },
        "12": { "fanSpeed": "MID",   "airFlow.windStrength": "MID" },
        "13": { "fanSpeed": "HIGH",  "airFlow.windStrength": "HIGH" },
        "14": { "fanSpeed": "TURBO", "airFlow.windStrength": "POWER" }
      } }
    },

    {
      "ident": "FAN_DIRECTION",
      "name": "Drehrichtung",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 0, "caption": "Vorwärts", "color": 52651 },
        { "value": 1, "caption": "Rückwärts", "color": 3442154 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["windDirection.direction", "direction"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["windDirection.direction.mode", "direction.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["windDirection.direction", "direction"], "map": { "FORWARD": 0, "REVERSE": 1 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "0": { "windDirection.direction": "FORWARD" },
        "1": { "windDirection.direction": "REVERSE" }
      } }
    },

    {
      "ident": "OSCILLATE",
      "name": "Oszillation",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["windDirection.rotateUpDown", "windDirection.rotateLeftRight", "oscillation", "swing"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["windDirection.rotateUpDown.mode", "windDirection.rotateLeftRight.mode", "oscillation.mode", "swing.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["oscillation", "swing", "windDirection.rotateUpDown", "windDirection.rotateLeftRight"], "string_true": ["ON", "TRUE", "1"], "string_false": ["OFF", "FALSE", "0"] },
      "write": { "enumMap": {
        "1": { "windDirection.rotateUpDown": true,  "windDirection.rotateLeftRight": true,  "oscillation": true,  "swing": "ON" },
        "0": { "windDirection.rotateUpDown": false, "windDirection.rotateLeftRight": false, "oscillation": false, "swing": "OFF" }
      } }
    },

    {
      "ident": "FAN_LIGHT",
      "name": "Licht",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["display.light", "light"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["display.light.mode", "light.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["display.light", "light"], "string_true": ["ON", "TRUE", "1"], "string_false": ["OFF", "FALSE", "0"] },
      "write": { "enumMap": {
        "1": { "display.light": "ON",  "light": "ON" },
        "0": { "display.light": "OFF", "light": "OFF" }
      } }
    }
  ]
}
