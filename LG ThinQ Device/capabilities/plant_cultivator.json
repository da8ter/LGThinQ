{
  "capabilities": [
    {
      "ident": "PLANT_OPERATION",
      "name": "Betrieb",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 0, "caption": "Stop", "color": 16711680 },
        { "value": 1, "caption": "Start", "color": 52651 },
        { "value": 2, "caption": "Pause", "color": 16026947 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["operation.plantCultivatorOperationMode", "plantCultivatorOperationMode", "operation.mode", "cultivator.operation"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["operation.plantCultivatorOperationMode.mode", "plantCultivatorOperationMode.mode", "operation.mode", "cultivator.operation.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["operation.plantCultivatorOperationMode", "plantCultivatorOperationMode", "operation.mode", "cultivator.operation"], "map": { "START": 1, "PAUSE": 2, "STOP": 0 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "1": { "operation.plantCultivatorOperationMode": "START" },
        "2": { "operation.plantCultivatorOperationMode": "PAUSE" },
        "0": { "operation.plantCultivatorOperationMode": "STOP" }
      } }
    },

    {
      "ident": "POWER",
      "name": "Power",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["operation.power", "power", "is_on"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["operation.power", "power", "is_on"], "map": { "ON": true, "1": true, "TRUE": true, "OFF": false, "0": false, "FALSE": false } }
    },

    {
      "ident": "GROWTH_MODE",
      "name": "Wachstumsmodus",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 1, "caption": "Keimung", "color": 52651 },
        { "value": 2, "caption": "Keimling", "color": 3442154 },
        { "value": 3, "caption": "Vegetativ", "color": 16777215 },
        { "value": 4, "caption": "Blüte", "color": 16026947 },
        { "value": 5, "caption": "Ernte", "color": 16711935 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["growth.mode", "grow.mode", "plant.mode", "operation.growthMode"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["growth.mode", "grow.mode", "plant.mode", "operation.growthMode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["growth.mode", "grow.mode", "plant.mode", "operation.growthMode"], "map": { "GERMINATION": 1, "SEEDLING": 2, "VEGETATIVE": 3, "BLOOM": 4, "HARVEST": 5 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "1": { "growth.mode": "GERMINATION" },
        "2": { "growth.mode": "SEEDLING" },
        "3": { "growth.mode": "VEGETATIVE" },
        "4": { "growth.mode": "BLOOM" },
        "5": { "growth.mode": "HARVEST" }
      } }
    },

    {
      "ident": "LIGHT_MODE",
      "name": "Lichtmodus",
      "type": "integer",
      "presentation": { "kind": "buttons" },
      "create": { "when": "profileHasAny", "keys": ["lighting.mode", "light.mode", "lamp.mode"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["lighting.mode", "light.mode", "lamp.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["lighting.mode", "light.mode", "lamp.mode"], "map": { "OFF": 0, "AUTO": 1, "ON": 2 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "0": { "lighting.mode": "OFF" },
        "1": { "lighting.mode": "AUTO" },
        "2": { "lighting.mode": "ON" }
      } }
    },

    {
      "ident": "LIGHT_LEVEL",
      "name": "Lichtstärke",
      "type": "integer",
      "presentation": { "kind": "slider", "range": { "min": 0, "max": 100, "step": 5, "digits": 0, "suffix": " %" } },
      "create": { "when": "profileHasAny", "keys": ["lighting.level", "light.level", "lamp.level"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["lighting.level.mode", "light.level.mode", "lamp.level.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["lighting.level", "light.level", "lamp.level"] },
      "write": { "template": { "lighting": { "level": "@int" } } }
    },

    {
      "ident": "WATERING_OPERATION",
      "name": "Bewässerung",
      "type": "integer",
      "presentation": { "kind": "enumeration", "options": [
        { "value": 0, "caption": "Stop", "color": 16711680 },
        { "value": 1, "caption": "Start", "color": 52651 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["pump.operation", "watering.operation", "water.operation"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["pump.operation.mode", "watering.operation.mode", "water.operation.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["pump.operation", "watering.operation", "water.operation"], "map": { "START": 1, "STOP": 0 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "1": { "pump.operation": "START" },
        "0": { "pump.operation": "STOP" }
      } }
    },

    {
      "ident": "HUMIDITY_CUR",
      "name": "Luftfeuchte",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " %" },
      "create": { "when": "statusHasAny", "keys": ["humidity.current", "currentHumidity", "relativeHumidity.current", "humidity", "humidityInPercent"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["humidity.current", "currentHumidity", "relativeHumidity.current", "humidity", "humidityInPercent"] }
    },

    {
      "ident": "TEMP_CUR",
      "name": "Temperatur",
      "type": "float",
      "presentation": { "kind": "value", "suffix": " °C", "usageType": 1 },
      "create": { "when": "statusHasAny", "keys": ["temperature.current", "currentTemperature", "temp.current"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["temperature.current", "currentTemperature", "temp.current"] }
    },

    {
      "ident": "WATER_TANK_PERCENT",
      "name": "Wassertank",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " %" },
      "create": { "when": "statusHasAny", "keys": ["waterTank.remainPercent", "tank.remainPercent"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["waterTank.remainPercent", "tank.remainPercent"] }
    },

    {
      "ident": "NUTRIENT_LEVEL_PERCENT",
      "name": "Nährstoffe",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " %" },
      "create": { "when": "statusHasAny", "keys": ["nutrient.remainPercent", "nutrient.levelPercent"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["nutrient.remainPercent", "nutrient.levelPercent"] }
    },

    {
      "ident": "DOOR_OPEN",
      "name": "Tür offen",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "Offen", "captionOff": "Zu" },
      "create": { "when": "statusHasAny", "keys": ["doorOpen", "door", "door.status"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["doorOpen", "door", "door.status"], "string_true": ["OPEN", "ON", "TRUE", "1"], "string_false": ["CLOSE", "CLOSED", "OFF", "FALSE", "0"] }
    },

    {
      "ident": "CHILD_LOCK",
      "name": "Kindersicherung",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["childLock", "childLock.enabled", "lock.child"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["childLock.mode", "childLock.enabled.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["childLock", "childLock.enabled", "lock.child"] },
      "write": { "template": { "childLock": { "enabled": "@bool" } } }
    }
  ]
}
