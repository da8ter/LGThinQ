{
  "capabilities": [
    {
      "ident": "COMBO_OPERATION",
      "name": "Wasch/Trocken Betrieb",
      "type": "integer",
      "presentation": { "kind": "buttons", "options": [
        { "value": 1, "caption": "Start", "color": 52651 },
        { "value": 2, "caption": "Pause", "color": 16026947 },
        { "value": 3, "caption": "Stop", "color": 16711680 }
      ] },
      "create": { "when": "profileHasAny", "keys": [
        "operation.washComboOperationMode",
        "washComboOperationMode",
        "operation.comboOperationMode",
        "comboOperationMode",
        "operation.washerOperationMode"
      ] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": [
        "operation.washComboOperationMode.mode",
        "washComboOperationMode.mode",
        "operation.comboOperationMode.mode",
        "comboOperationMode.mode",
        "operation.washerOperationMode.mode"
      ], "reassertOn": ["setup", "status"] },
      "read": { "sources": [
        "operation.washComboOperationMode",
        "washComboOperationMode",
        "operation.comboOperationMode",
        "comboOperationMode",
        "operation.washerOperationMode"
      ], "map": { "START": 1, "PAUSE": 2, "STOP": 3 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "1": { "operation.washComboOperationMode": "START" },
        "2": { "operation.washComboOperationMode": "PAUSE" },
        "3": { "operation.washComboOperationMode": "STOP" }
      } }
    },

    {
      "ident": "REMOTE_CONTROL_ENABLED",
      "name": "Remote Control",
      "type": "boolean",
      "presentation": { "kind": "value" },
      "create": { "when": "profileHasAny", "keys": ["remoteControlEnable.remoteControlEnabled"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["remoteControlEnable.remoteControlEnabled"] }
    },

    {
      "ident": "DELAY_START_HOUR",
      "name": "Startverzögerung (h)",
      "type": "integer",
      "presentation": { "kind": "slider", "range": { "min": 0, "max": 24, "step": 1, "digits": 0, "suffix": " h" } },
      "create": { "when": "profileHasAny", "keys": ["timer.relativeHourToStart", "delayStartHour"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["timer.relativeHourToStart.mode", "delayStartHour.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["timer.relativeHourToStart", "delayStartHour"] },
      "write": { "template": { "timer": { "relativeHourToStart": "@int" } } }
    },

    {
      "ident": "RUN_STATE",
      "name": "Programmstatus",
      "type": "string",
      "presentation": { "kind": "value" },
      "create": { "when": "statusHasAny", "keys": [
        "runState.currentState", "processState.currentState", "currentState",
        "runState", "processState", "washState", "state"
      ] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["runState.currentState", "processState.currentState", "currentState", "runState", "processState", "washState", "state"] }
    },

    {
      "ident": "REMAIN_MIN",
      "name": "Restzeit",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " min" },
      "create": { "when": "statusHasAny", "keys": [
        "remainTimeHour", "remainingTimeHour", "remainHour",
        "remainTimeMinute", "remainingTimeMinute", "remainMinute", "remainingTime", "timer.remainMinute"
      ] },
      "action": { "enableWhen": "never" },
      "read": {
        "composite": { "combine": "hm_to_minutes", "parts": [ { "path": "remainTime.hour" }, { "path": "remainTime.minute" } ] },
        "sources": ["remainTimeInMinute", "remainMinute", "timer.remainMinute"]
      }
    },

    {
      "ident": "PROGRESS",
      "name": "Fortschritt",
      "type": "integer",
      "presentation": { "kind": "value", "suffix": " %" },
      "create": { "when": "statusHasAny", "keys": ["process.progress", "progress"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["process.progress", "progress"] }
    },

    {
      "ident": "DOOR_OPEN",
      "name": "Tür offen",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "Offen", "captionOff": "Zu" },
      "create": { "when": "statusHasAny", "keys": ["door_state.open", "door.open", "doorOpen", "doorlock", "doorLock", "door"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["door_state.open", "door.open", "doorOpen", "doorlock", "doorLock", "door"] }
    },

    {
      "ident": "CHILD_LOCK",
      "name": "Kindersicherung",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "statusHasAny", "keys": ["childLock", "child_lock"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["childLock", "child_lock"] }
    },

    {
      "ident": "SPIN_SPEED",
      "name": "Schleudern",
      "type": "integer",
      "presentation": { "kind": "buttons", "options": [
        { "value": 0, "caption": "Ohne", "color": 8421504 },
        { "value": 1, "caption": "Niedrig", "color": 3442154 },
        { "value": 2, "caption": "Mittel", "color": 16777215 },
        { "value": 3, "caption": "Hoch", "color": 16026947 },
        { "value": 4, "caption": "Turbo", "color": 16711680 },
        { "value": 5, "caption": "Extra Hoch", "color": 16711935 }
      ] },
      "create": { "when": "profileHasAny", "keys": ["spin", "spinSpeed", "spin.speed", "course.spin"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["spin.mode", "spinSpeed.mode", "spin.speed.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["spin", "spinSpeed", "spin.speed"], "map": { "NO_SPIN": 0, "LOW": 1, "MID": 2, "HIGH": 3, "TURBO": 4, "EXTRA_HIGH": 5 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "0": { "spin": "NO_SPIN" },
        "1": { "spin": "LOW" },
        "2": { "spin": "MID" },
        "3": { "spin": "HIGH" },
        "4": { "spin": "TURBO" },
        "5": { "spin": "EXTRA_HIGH" }
      } }
    },

    {
      "ident": "WASH_WATER_TEMP",
      "name": "Wassertemperatur",
      "type": "integer",
      "presentation": { "kind": "buttons" },
      "create": { "when": "profileHasAny", "keys": ["waterTemp", "water.temp", "course.waterTemp"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["waterTemp.mode", "water.temp.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["waterTemp", "water.temp"], "map": { "COLD": 0, "COOL": 1, "WARM": 2, "HOT": 3, "EXTRA_HOT": 4 }, "mapCaseInsensitive": true },
      "write": { "enumMap": {
        "0": { "waterTemp": "COLD" },
        "1": { "waterTemp": "COOL" },
        "2": { "waterTemp": "WARM" },
        "3": { "waterTemp": "HOT" },
        "4": { "waterTemp": "EXTRA_HOT" }
      } }
    },

    {
      "ident": "DRY_LEVEL",
      "name": "Trocknungsgrad",
      "type": "integer",
      "presentation": { "kind": "buttons" },
      "create": { "when": "profileHasAny", "keys": ["dryLevel", "options.dryLevel", "course.dryLevel"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["dryLevel.mode"], "reassertOn": ["setup", "status"] },
      "read": {
        "sources": ["dryLevel"],
        "map": { "VERY_DRY": 4, "MORE_DRY": 3, "NORMAL": 2, "DAMP": 1, "DEFAULT": 0 },
        "mapCaseInsensitive": true
      },
      "write": {
        "enumMap": {
          "4": { "dryLevel": "VERY_DRY" },
          "3": { "dryLevel": "MORE_DRY" },
          "2": { "dryLevel": "NORMAL" },
          "1": { "dryLevel": "DAMP" },
          "0": { "dryLevel": "DEFAULT" }
        }
      }
    },

    {
      "ident": "PROGRAM",
      "name": "Programm",
      "type": "string",
      "presentation": { "kind": "value" },
      "create": { "when": "profileHasAny", "keys": ["course", "program", "cycle", "state.course" ] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["course.mode", "program.mode", "cycle.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["course", "program", "cycle", "state.course"] },
      "write": { "template": { "course": "@string" } }
    },

    {
      "ident": "DRUM_LIGHT",
      "name": "Trommellicht",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["drum.light", "light.drum", "tub.light"] },
      "action": { "enableWhen": "profileWriteableAny", "writeableKeys": ["drum.light.mode", "light.drum.mode", "tub.light.mode"], "reassertOn": ["setup", "status"] },
      "read": { "sources": ["drum.light", "light.drum", "tub.light"], "string_true": ["ON", "TRUE", "1"], "string_false": ["OFF", "FALSE", "0"] },
      "write": { "enumMap": { "1": { "drum.light": "ON" }, "0": { "drum.light": "OFF" } } }
    },

    {
      "ident": "POWER",
      "name": "Power",
      "type": "boolean",
      "presentation": { "kind": "switch", "captionOn": "An", "captionOff": "Aus" },
      "create": { "when": "profileHasAny", "keys": ["operation.power", "power", "is_on"] },
      "action": { "enableWhen": "never" },
      "read": { "sources": ["operation.power", "power", "is_on"], "map": { "ON": true, "1": true, "TRUE": true, "OFF": false, "0": false, "FALSE": false } }
    }
  ]
}
